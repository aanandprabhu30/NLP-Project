{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "ec8c17bc-db92-4bd6-998b-85b36e0be066",
   "metadata": {},
   "source": [
    "# IT Subfield Classifier using SPECTER + XGBoost\n",
    "\n",
    "This notebook builds a subfield classifier for Information Technology research papers using:\n",
    "\n",
    "- **SPECTER embeddings** (from Title + Abstract)\n",
    "- **XGBoost** for classification\n",
    "- **LabelEncoder** for encoding subfields\n",
    "\n",
    "**Final IT Subfield Labels:**  \n",
    "- **CLD:** Cloud Systems  \n",
    "- **IOTNET:** IoT & Networked Systems  \n",
    "- **OPS:** IT Operations & Optimization  \n",
    "- **SEC:** Cybersecurity & Access Control\n",
    "\n",
    "**Target:**  \n",
    "Achieve high (>90%) classification accuracy across these four IT subfields."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "1e5e3a7c-a4b4-4162-a1af-ecc9003da778",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "All packages are already installed and ready ✅\n"
     ]
    }
   ],
   "source": [
    "import sentence_transformers\n",
    "import xgboost\n",
    "import sklearn\n",
    "import joblib\n",
    "\n",
    "print(\"All packages are already installed and ready ✅\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bf5067d8-2b7f-44bc-943c-92c376cf73ac",
   "metadata": {},
   "source": [
    "## 1. Load and Prepare IT Subfield Dataset\n",
    "\n",
    "We load the `IT_subfields.csv` file from the Data/ directory. Each row contains:\n",
    "\n",
    "- **Title:** Research paper title  \n",
    "- **Abstract:** Paper abstract  \n",
    "- **Subfield:** IT subfield label (`CLD`, `IOTNET`, `OPS`, `SEC`)  \n",
    "- **Link:** Source URL for the paper"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "0b020131-1a3a-473b-b0d8-50d33d4c2655",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(504, 5)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Title</th>\n",
       "      <th>Abstract</th>\n",
       "      <th>Subfield</th>\n",
       "      <th>Link</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Considerations for Cloud Security Operations</td>\n",
       "      <td>Information Security in Cloud Computing enviro...</td>\n",
       "      <td>CLD</td>\n",
       "      <td>http://arxiv.org/abs/1601.06289v1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Security of Cloud FPGAs: A Survey</td>\n",
       "      <td>Integrating Field Programmable Gate Arrays (FP...</td>\n",
       "      <td>CLD</td>\n",
       "      <td>http://arxiv.org/abs/2005.04867v1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Interoperability and Standardization of Interc...</td>\n",
       "      <td>Cloud computing is getting mature, and the int...</td>\n",
       "      <td>CLD</td>\n",
       "      <td>http://arxiv.org/abs/1212.5956v1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Application of Machine Learning Optimization i...</td>\n",
       "      <td>In recent years, cloud computing has been wide...</td>\n",
       "      <td>CLD</td>\n",
       "      <td>http://arxiv.org/abs/2402.17216v1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Evolution of Cloud Storage as Cloud Computing ...</td>\n",
       "      <td>Enterprises are driving towards less cost, mor...</td>\n",
       "      <td>CLD</td>\n",
       "      <td>http://arxiv.org/abs/1308.1303v1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                               Title  \\\n",
       "0       Considerations for Cloud Security Operations   \n",
       "1                  Security of Cloud FPGAs: A Survey   \n",
       "2  Interoperability and Standardization of Interc...   \n",
       "3  Application of Machine Learning Optimization i...   \n",
       "4  Evolution of Cloud Storage as Cloud Computing ...   \n",
       "\n",
       "                                            Abstract Subfield  \\\n",
       "0  Information Security in Cloud Computing enviro...      CLD   \n",
       "1  Integrating Field Programmable Gate Arrays (FP...      CLD   \n",
       "2  Cloud computing is getting mature, and the int...      CLD   \n",
       "3  In recent years, cloud computing has been wide...      CLD   \n",
       "4  Enterprises are driving towards less cost, mor...      CLD   \n",
       "\n",
       "                                Link  \n",
       "0  http://arxiv.org/abs/1601.06289v1  \n",
       "1  http://arxiv.org/abs/2005.04867v1  \n",
       "2   http://arxiv.org/abs/1212.5956v1  \n",
       "3  http://arxiv.org/abs/2402.17216v1  \n",
       "4   http://arxiv.org/abs/1308.1303v1  "
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "\n",
    "# Step 1: Load dataset\n",
    "df = pd.read_csv(\"Data/IT_subfields.csv\")\n",
    "\n",
    "# Create input_text for embedding\n",
    "df[\"input_text\"] = df[\"Title\"].astype(str).str.strip() + \" \" + df[\"Abstract\"].astype(str).str.strip()\n",
    "\n",
    "# Show shape and preview only the 4 relevant columns\n",
    "print(df.shape)\n",
    "df[[\"Title\", \"Abstract\", \"Subfield\", \"Link\"]].head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "9f6478a3-04bd-4f41-ae47-874865ecab82",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    Considerations for Cloud Security Operations I...\n",
       "1    Security of Cloud FPGAs: A Survey Integrating ...\n",
       "2    Interoperability and Standardization of Interc...\n",
       "3    Application of Machine Learning Optimization i...\n",
       "4    Evolution of Cloud Storage as Cloud Computing ...\n",
       "Name: input_text, dtype: object"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Preview the constructed input_text\n",
    "df[\"input_text\"].head()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "ca20c1af-a453-41dc-8433-88147d3abb80",
   "metadata": {},
   "source": [
    "## 2. Check Subfield Distribution and Encode Labels\n",
    "\n",
    "We inspect the number of papers per subfield to detect any class imbalance.  \n",
    "Next, we use `LabelEncoder` to convert subfield labels into numerical format required for model training."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "c9e0b859-08ea-44f8-a30a-d83ba6b1e7ee",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Subfield Distribution:\n",
      "\n",
      "CLD: 162\n",
      "IOTNET: 137\n",
      "SEC: 130\n",
      "OPS: 75\n"
     ]
    }
   ],
   "source": [
    "from collections import Counter\n",
    "\n",
    "# Check class distribution\n",
    "subfield_counts = Counter(df[\"Subfield\"])\n",
    "print(\"Subfield Distribution:\\n\")\n",
    "for subfield, count in subfield_counts.items():\n",
    "    print(f\"{subfield}: {count}\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "d6848f42-67ce-4c76-a2c3-466aee165681",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Subfield</th>\n",
       "      <th>subfield_label</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>CLD</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>50</th>\n",
       "      <td>IOTNET</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>97</th>\n",
       "      <td>OPS</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>52</th>\n",
       "      <td>SEC</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Subfield  subfield_label\n",
       "0       CLD               0\n",
       "50   IOTNET               1\n",
       "97      OPS               2\n",
       "52      SEC               3"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.preprocessing import LabelEncoder\n",
    "\n",
    "# Encode subfield labels\n",
    "le = LabelEncoder()\n",
    "df[\"subfield_label\"] = le.fit_transform(df[\"Subfield\"])\n",
    "\n",
    "# Preview encoded labels\n",
    "df[[\"Subfield\", \"subfield_label\"]].drop_duplicates().sort_values(\"subfield_label\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3936c64c-1cf1-49ac-92f8-b439adc3c9f6",
   "metadata": {},
   "source": [
    "## 3. Generate SPECTER Embeddings\n",
    "\n",
    "We now load the `allenai-specter` model using `sentence-transformers` and generate dense 768-dimensional embeddings for each `text` entry.\n",
    "\n",
    "These embeddings will be used as features for training the XGBoost classifier."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "909750de-7395-4490-97ad-a894d54ec8ff",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "application/vnd.jupyter.widget-view+json": {
       "model_id": "5f11ffce0e11481a9959d3604ad8618d",
       "version_major": 2,
       "version_minor": 0
      },
      "text/plain": [
       "Batches:   0%|          | 0/16 [00:00<?, ?it/s]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "from sentence_transformers import SentenceTransformer\n",
    "\n",
    "# Load the pretrained SPECTER model\n",
    "model = SentenceTransformer(\"allenai-specter\")\n",
    "\n",
    "# Encode input text (this may take 1–2 minutes)\n",
    "X_embeddings = model.encode(df[\"input_text\"].tolist(), batch_size=32, show_progress_bar=True)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e0b82ba9-10ca-42ea-bce0-c8e5d6169050",
   "metadata": {},
   "source": [
    "## 4. Train-Test Split\n",
    "\n",
    "We split the dataset into training and test sets using an 80/20 stratified split.  \n",
    "This ensures that each subfield is proportionally represented in both sets."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "2c743da9-0f5a-4d68-9e0d-62f4de98a5cd",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Train size: 403, Test size: 101\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "\n",
    "# Define features and labels\n",
    "X = X_embeddings\n",
    "y = df[\"subfield_label\"].values\n",
    "\n",
    "# 80/20 stratified split\n",
    "X_train, X_test, y_train, y_test = train_test_split(\n",
    "    X, y, test_size=0.2, random_state=42, stratify=y\n",
    ")\n",
    "\n",
    "print(f\"Train size: {len(X_train)}, Test size: {len(X_test)}\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "28bdec3c-5531-476c-bfb3-693e3607025e",
   "metadata": {},
   "source": [
    "## 5. Train XGBoost Classifier\n",
    "\n",
    "We now train an `XGBClassifier` on the SPECTER embeddings.  \n",
    "This model uses default hyperparameters and will serve as our baseline."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "84927d17-e9a0-4b6d-83d3-0d0e04a2a2b9",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/opt/anaconda3/envs/nlp-bert/lib/python3.10/site-packages/xgboost/training.py:183: UserWarning: [16:33:25] WARNING: /Users/runner/work/xgboost/xgboost/src/learner.cc:738: \n",
      "Parameters: { \"use_label_encoder\" } are not used.\n",
      "\n",
      "  bst.update(dtrain, iteration=i, fobj=obj)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<style>#sk-container-id-1 {\n",
       "  /* Definition of color scheme common for light and dark mode */\n",
       "  --sklearn-color-text: #000;\n",
       "  --sklearn-color-text-muted: #666;\n",
       "  --sklearn-color-line: gray;\n",
       "  /* Definition of color scheme for unfitted estimators */\n",
       "  --sklearn-color-unfitted-level-0: #fff5e6;\n",
       "  --sklearn-color-unfitted-level-1: #f6e4d2;\n",
       "  --sklearn-color-unfitted-level-2: #ffe0b3;\n",
       "  --sklearn-color-unfitted-level-3: chocolate;\n",
       "  /* Definition of color scheme for fitted estimators */\n",
       "  --sklearn-color-fitted-level-0: #f0f8ff;\n",
       "  --sklearn-color-fitted-level-1: #d4ebff;\n",
       "  --sklearn-color-fitted-level-2: #b3dbfd;\n",
       "  --sklearn-color-fitted-level-3: cornflowerblue;\n",
       "\n",
       "  /* Specific color for light theme */\n",
       "  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n",
       "  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n",
       "  --sklearn-color-icon: #696969;\n",
       "\n",
       "  @media (prefers-color-scheme: dark) {\n",
       "    /* Redefinition of color scheme for dark theme */\n",
       "    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n",
       "    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n",
       "    --sklearn-color-icon: #878787;\n",
       "  }\n",
       "}\n",
       "\n",
       "#sk-container-id-1 {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 pre {\n",
       "  padding: 0;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 input.sk-hidden--visually {\n",
       "  border: 0;\n",
       "  clip: rect(1px 1px 1px 1px);\n",
       "  clip: rect(1px, 1px, 1px, 1px);\n",
       "  height: 1px;\n",
       "  margin: -1px;\n",
       "  overflow: hidden;\n",
       "  padding: 0;\n",
       "  position: absolute;\n",
       "  width: 1px;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-dashed-wrapped {\n",
       "  border: 1px dashed var(--sklearn-color-line);\n",
       "  margin: 0 0.4em 0.5em 0.4em;\n",
       "  box-sizing: border-box;\n",
       "  padding-bottom: 0.4em;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-container {\n",
       "  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n",
       "     but bootstrap.min.css set `[hidden] { display: none !important; }`\n",
       "     so we also need the `!important` here to be able to override the\n",
       "     default hidden behavior on the sphinx rendered scikit-learn.org.\n",
       "     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n",
       "  display: inline-block !important;\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-text-repr-fallback {\n",
       "  display: none;\n",
       "}\n",
       "\n",
       "div.sk-parallel-item,\n",
       "div.sk-serial,\n",
       "div.sk-item {\n",
       "  /* draw centered vertical line to link estimators */\n",
       "  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n",
       "  background-size: 2px 100%;\n",
       "  background-repeat: no-repeat;\n",
       "  background-position: center center;\n",
       "}\n",
       "\n",
       "/* Parallel-specific style estimator block */\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel-item::after {\n",
       "  content: \"\";\n",
       "  width: 100%;\n",
       "  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n",
       "  flex-grow: 1;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel {\n",
       "  display: flex;\n",
       "  align-items: stretch;\n",
       "  justify-content: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  position: relative;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel-item {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel-item:first-child::after {\n",
       "  align-self: flex-end;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel-item:last-child::after {\n",
       "  align-self: flex-start;\n",
       "  width: 50%;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-parallel-item:only-child::after {\n",
       "  width: 0;\n",
       "}\n",
       "\n",
       "/* Serial-specific style estimator block */\n",
       "\n",
       "#sk-container-id-1 div.sk-serial {\n",
       "  display: flex;\n",
       "  flex-direction: column;\n",
       "  align-items: center;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  padding-right: 1em;\n",
       "  padding-left: 1em;\n",
       "}\n",
       "\n",
       "\n",
       "/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\n",
       "clickable and can be expanded/collapsed.\n",
       "- Pipeline and ColumnTransformer use this feature and define the default style\n",
       "- Estimators will overwrite some part of the style using the `sk-estimator` class\n",
       "*/\n",
       "\n",
       "/* Pipeline and ColumnTransformer style (default) */\n",
       "\n",
       "#sk-container-id-1 div.sk-toggleable {\n",
       "  /* Default theme specific background. It is overwritten whether we have a\n",
       "  specific estimator or a Pipeline/ColumnTransformer */\n",
       "  background-color: var(--sklearn-color-background);\n",
       "}\n",
       "\n",
       "/* Toggleable label */\n",
       "#sk-container-id-1 label.sk-toggleable__label {\n",
       "  cursor: pointer;\n",
       "  display: flex;\n",
       "  width: 100%;\n",
       "  margin-bottom: 0;\n",
       "  padding: 0.5em;\n",
       "  box-sizing: border-box;\n",
       "  text-align: center;\n",
       "  align-items: start;\n",
       "  justify-content: space-between;\n",
       "  gap: 0.5em;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 label.sk-toggleable__label .caption {\n",
       "  font-size: 0.6rem;\n",
       "  font-weight: lighter;\n",
       "  color: var(--sklearn-color-text-muted);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 label.sk-toggleable__label-arrow:before {\n",
       "  /* Arrow on the left of the label */\n",
       "  content: \"▸\";\n",
       "  float: left;\n",
       "  margin-right: 0.25em;\n",
       "  color: var(--sklearn-color-icon);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {\n",
       "  color: var(--sklearn-color-text);\n",
       "}\n",
       "\n",
       "/* Toggleable content - dropdown */\n",
       "\n",
       "#sk-container-id-1 div.sk-toggleable__content {\n",
       "  max-height: 0;\n",
       "  max-width: 0;\n",
       "  overflow: hidden;\n",
       "  text-align: left;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-toggleable__content.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-toggleable__content pre {\n",
       "  margin: 0.2em;\n",
       "  border-radius: 0.25em;\n",
       "  color: var(--sklearn-color-text);\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-toggleable__content.fitted pre {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n",
       "  /* Expand drop-down */\n",
       "  max-height: 200px;\n",
       "  max-width: 100%;\n",
       "  overflow: auto;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n",
       "  content: \"▾\";\n",
       "}\n",
       "\n",
       "/* Pipeline/ColumnTransformer-specific style */\n",
       "\n",
       "#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator-specific style */\n",
       "\n",
       "/* Colorize estimator box */\n",
       "#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-label label.sk-toggleable__label,\n",
       "#sk-container-id-1 div.sk-label label {\n",
       "  /* The background is the default theme color */\n",
       "  color: var(--sklearn-color-text-on-default-background);\n",
       "}\n",
       "\n",
       "/* On hover, darken the color of the background */\n",
       "#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "/* Label box, darken color on hover, fitted */\n",
       "#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n",
       "  color: var(--sklearn-color-text);\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Estimator label */\n",
       "\n",
       "#sk-container-id-1 div.sk-label label {\n",
       "  font-family: monospace;\n",
       "  font-weight: bold;\n",
       "  display: inline-block;\n",
       "  line-height: 1.2em;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-label-container {\n",
       "  text-align: center;\n",
       "}\n",
       "\n",
       "/* Estimator-specific */\n",
       "#sk-container-id-1 div.sk-estimator {\n",
       "  font-family: monospace;\n",
       "  border: 1px dotted var(--sklearn-color-border-box);\n",
       "  border-radius: 0.25em;\n",
       "  box-sizing: border-box;\n",
       "  margin-bottom: 0.5em;\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-0);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-estimator.fitted {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-0);\n",
       "}\n",
       "\n",
       "/* on hover */\n",
       "#sk-container-id-1 div.sk-estimator:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-2);\n",
       "}\n",
       "\n",
       "#sk-container-id-1 div.sk-estimator.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-2);\n",
       "}\n",
       "\n",
       "/* Specification for estimator info (e.g. \"i\" and \"?\") */\n",
       "\n",
       "/* Common style for \"i\" and \"?\" */\n",
       "\n",
       ".sk-estimator-doc-link,\n",
       "a:link.sk-estimator-doc-link,\n",
       "a:visited.sk-estimator-doc-link {\n",
       "  float: right;\n",
       "  font-size: smaller;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1em;\n",
       "  height: 1em;\n",
       "  width: 1em;\n",
       "  text-decoration: none !important;\n",
       "  margin-left: 0.5em;\n",
       "  text-align: center;\n",
       "  /* unfitted */\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted,\n",
       "a:link.sk-estimator-doc-link.fitted,\n",
       "a:visited.sk-estimator-doc-link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "div.sk-estimator:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link:hover,\n",
       ".sk-estimator-doc-link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover,\n",
       "div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n",
       ".sk-estimator-doc-link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "/* Span, style for the box shown on hovering the info icon */\n",
       ".sk-estimator-doc-link span {\n",
       "  display: none;\n",
       "  z-index: 9999;\n",
       "  position: relative;\n",
       "  font-weight: normal;\n",
       "  right: .2ex;\n",
       "  padding: .5ex;\n",
       "  margin: .5ex;\n",
       "  width: min-content;\n",
       "  min-width: 20ex;\n",
       "  max-width: 50ex;\n",
       "  color: var(--sklearn-color-text);\n",
       "  box-shadow: 2pt 2pt 4pt #999;\n",
       "  /* unfitted */\n",
       "  background: var(--sklearn-color-unfitted-level-0);\n",
       "  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link.fitted span {\n",
       "  /* fitted */\n",
       "  background: var(--sklearn-color-fitted-level-0);\n",
       "  border: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "\n",
       ".sk-estimator-doc-link:hover span {\n",
       "  display: block;\n",
       "}\n",
       "\n",
       "/* \"?\"-specific style due to the `<a>` HTML tag */\n",
       "\n",
       "#sk-container-id-1 a.estimator_doc_link {\n",
       "  float: right;\n",
       "  font-size: 1rem;\n",
       "  line-height: 1em;\n",
       "  font-family: monospace;\n",
       "  background-color: var(--sklearn-color-background);\n",
       "  border-radius: 1rem;\n",
       "  height: 1rem;\n",
       "  width: 1rem;\n",
       "  text-decoration: none;\n",
       "  /* unfitted */\n",
       "  color: var(--sklearn-color-unfitted-level-1);\n",
       "  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 a.estimator_doc_link.fitted {\n",
       "  /* fitted */\n",
       "  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n",
       "  color: var(--sklearn-color-fitted-level-1);\n",
       "}\n",
       "\n",
       "/* On hover */\n",
       "#sk-container-id-1 a.estimator_doc_link:hover {\n",
       "  /* unfitted */\n",
       "  background-color: var(--sklearn-color-unfitted-level-3);\n",
       "  color: var(--sklearn-color-background);\n",
       "  text-decoration: none;\n",
       "}\n",
       "\n",
       "#sk-container-id-1 a.estimator_doc_link.fitted:hover {\n",
       "  /* fitted */\n",
       "  background-color: var(--sklearn-color-fitted-level-3);\n",
       "}\n",
       "</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>XGBClassifier(base_score=None, booster=None, callbacks=None,\n",
       "              colsample_bylevel=None, colsample_bynode=None,\n",
       "              colsample_bytree=None, device=None, early_stopping_rounds=None,\n",
       "              enable_categorical=False, eval_metric=&#x27;mlogloss&#x27;,\n",
       "              feature_types=None, feature_weights=None, gamma=None,\n",
       "              grow_policy=None, importance_type=None,\n",
       "              interaction_constraints=None, learning_rate=None, max_bin=None,\n",
       "              max_cat_threshold=None, max_cat_to_onehot=None,\n",
       "              max_delta_step=None, max_depth=None, max_leaves=None,\n",
       "              min_child_weight=None, missing=nan, monotone_constraints=None,\n",
       "              multi_strategy=None, n_estimators=None, n_jobs=None,\n",
       "              num_parallel_tree=None, ...)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow\"><div><div>XGBClassifier</div></div><div><a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://xgboost.readthedocs.io/en/release_3.0.0/python/python_api.html#xgboost.XGBClassifier\">?<span>Documentation for XGBClassifier</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></div></label><div class=\"sk-toggleable__content fitted\"><pre>XGBClassifier(base_score=None, booster=None, callbacks=None,\n",
       "              colsample_bylevel=None, colsample_bynode=None,\n",
       "              colsample_bytree=None, device=None, early_stopping_rounds=None,\n",
       "              enable_categorical=False, eval_metric=&#x27;mlogloss&#x27;,\n",
       "              feature_types=None, feature_weights=None, gamma=None,\n",
       "              grow_policy=None, importance_type=None,\n",
       "              interaction_constraints=None, learning_rate=None, max_bin=None,\n",
       "              max_cat_threshold=None, max_cat_to_onehot=None,\n",
       "              max_delta_step=None, max_depth=None, max_leaves=None,\n",
       "              min_child_weight=None, missing=nan, monotone_constraints=None,\n",
       "              multi_strategy=None, n_estimators=None, n_jobs=None,\n",
       "              num_parallel_tree=None, ...)</pre></div> </div></div></div></div>"
      ],
      "text/plain": [
       "XGBClassifier(base_score=None, booster=None, callbacks=None,\n",
       "              colsample_bylevel=None, colsample_bynode=None,\n",
       "              colsample_bytree=None, device=None, early_stopping_rounds=None,\n",
       "              enable_categorical=False, eval_metric='mlogloss',\n",
       "              feature_types=None, feature_weights=None, gamma=None,\n",
       "              grow_policy=None, importance_type=None,\n",
       "              interaction_constraints=None, learning_rate=None, max_bin=None,\n",
       "              max_cat_threshold=None, max_cat_to_onehot=None,\n",
       "              max_delta_step=None, max_depth=None, max_leaves=None,\n",
       "              min_child_weight=None, missing=nan, monotone_constraints=None,\n",
       "              multi_strategy=None, n_estimators=None, n_jobs=None,\n",
       "              num_parallel_tree=None, ...)"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from xgboost import XGBClassifier\n",
    "\n",
    "# Initialize classifier\n",
    "xgb = XGBClassifier(\n",
    "    use_label_encoder=False,    # disables legacy label encoding warning\n",
    "    eval_metric='mlogloss',     # multiclass log-loss\n",
    "    random_state=42\n",
    ")\n",
    "\n",
    "# Train the model\n",
    "xgb.fit(X_train, y_train)"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1f145cf9-cac2-4f39-a2cc-753ffaf58c9f",
   "metadata": {},
   "source": [
    "## 6. Evaluate Model Performance\n",
    "\n",
    "We evaluate the classifier on the test set using:\n",
    "\n",
    "- Accuracy\n",
    "- Precision, Recall, and F1-score (per class)\n",
    "- Confusion Matrix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "6659c918-0477-48fb-a136-2cc6429a62e6",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Classification Report:\n",
      "\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "         CLD       0.85      0.88      0.87        33\n",
      "      IOTNET       0.77      0.89      0.83        27\n",
      "         OPS       0.88      0.47      0.61        15\n",
      "         SEC       0.86      0.92      0.89        26\n",
      "\n",
      "    accuracy                           0.83       101\n",
      "   macro avg       0.84      0.79      0.80       101\n",
      "weighted avg       0.84      0.83      0.82       101\n",
      "\n",
      "Confusion Matrix:\n",
      "\n",
      "[[29  1  1  2]\n",
      " [ 1 24  0  2]\n",
      " [ 4  4  7  0]\n",
      " [ 0  2  0 24]]\n"
     ]
    }
   ],
   "source": [
    "from sklearn.metrics import classification_report, confusion_matrix\n",
    "\n",
    "# Predict on test set\n",
    "y_pred = xgb.predict(X_test)\n",
    "\n",
    "# Decode labels for readability\n",
    "label_names = le.classes_\n",
    "\n",
    "# Print classification report\n",
    "print(\"Classification Report:\\n\")\n",
    "print(classification_report(y_test, y_pred, target_names=label_names))\n",
    "\n",
    "# Show raw confusion matrix\n",
    "print(\"Confusion Matrix:\\n\")\n",
    "print(confusion_matrix(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "3e0fdea5-5291-4745-bcb5-fd25fe0f2cfc",
   "metadata": {},
   "source": [
    "## 7. Save Model Artefacts\n",
    "\n",
    "We save the trained XGBoost model and label encoder using `joblib`.  \n",
    "This allows us to reuse the classifier later without retraining."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "8437b379-aadc-456b-b479-781076d7330b",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Saved model and label encoder to Artefacts folder ✅\n"
     ]
    }
   ],
   "source": [
    "import joblib\n",
    "import os\n",
    "\n",
    "# Save model and label encoder\n",
    "joblib.dump(xgb, \"Artefacts/it_subfield_xgb_model_v2.3.pkl\")\n",
    "joblib.dump(le, \"Artefacts/it_subfield_label_encoder_v2.3.pkl\")\n",
    "\n",
    "print(\"Saved model and label encoder to Artefacts folder ✅\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "455cecc8-0e4a-40dc-be2b-8ea7ae3bf019",
   "metadata": {},
   "source": [
    "## Classification Results Summary (v2.3 – SPECTER + XGBoost)\n",
    "\n",
    "The classifier achieved the following evaluation metrics on the test set:\n",
    "\n",
    "- **Accuracy:** 83%\n",
    "- **Macro F1-score:** 0.80\n",
    "- **Weighted F1-score:** 0.82\n",
    "\n",
    "### Per-Class F1 Scores:\n",
    "\n",
    "| Subfield | F1 Score | Comments |\n",
    "|----------|----------|----------|\n",
    "| CLD      | 0.87     | High accuracy; well-separated from others |\n",
    "| IOTNET   | 0.83     | Strong performance, minor confusion with CLD/SEC |\n",
    "| OPS      | 0.61     | Lower recall; some confusion with IOTNET/CLD (few samples) |\n",
    "| SEC      | 0.89     | Best performer; strong identity in embedding space |\n",
    "\n",
    "**Observations:**\n",
    "- The model is robust for most subfields, but struggles with recall on the rarest class (OPS).\n",
    "- Most confusion occurs between OPS and IOTNET/CLD, possibly due to overlap in operational and infrastructure language.\n",
    "\n",
    "---\n",
    "\n",
    "We now proceed to hyperparameter tuning (v2.4) to improve results, especially for underrepresented subfields."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "bd00cb4e-f1bf-4a94-b9fd-c986a22036bc",
   "metadata": {},
   "source": [
    "### Confusion Matrix (Heatmap)\n",
    "\n",
    "We plot the confusion matrix as a heatmap to visualize where the model is confusing between subfields.\n",
    "\n",
    "- Darker diagonal = better performance.\n",
    "- Off-diagonal values = misclassifications."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "6ce82d35-5c7c-4716-990a-ebf020b67031",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAt0AAAJOCAYAAABrxbsfAAAAOnRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjEwLjEsIGh0dHBzOi8vbWF0cGxvdGxpYi5vcmcvc2/+5QAAAAlwSFlzAAAPYQAAD2EBqD+naQAAWUNJREFUeJzt3QeYE9X38PEzS1lAYOldmvTeVLCACgKidAuIioqACAgCoosigugqIiDdRhUVe+GnoCJFpSjNBiJdpYMUaUvL+5zrm/w3Sxay7M5MNvP9+IxsJtnkJplNzpw594zl8/l8AgAAAMA2MfbdNQAAAABF0A0AAADYjKAbAAAAsBlBNwAAAGAzgm4AAADAZgTdAAAAgM0IugEAAACbEXQDAAAANiPoBgAAAGxG0A3P2LBhgzRt2lTi4uLEsiz5+OOP0/X+t27dau532rRp6Xq/Gdl1111nFoS37YwcOTKs28+dO1dq1aol2bJlM7938OBBuffee6V06dK2vk8LFy40j6f/picdt47fLaFeuyNHjsgDDzwgRYoUMc+5b9++rvyN//DDD5I1a1bZtm2bRKrJkydLyZIlJTEx0e2hABGNoBuO2rRpk3Tv3l3Kli1rAobcuXPL1VdfLS+//LIcP37c1sfu3Lmz/PLLL/Lss8/KzJkzpV69ehItNGjQYEBfz1Cvo+5w6PWpCeyS2rFjhzz99NOyZs0ayWg0QNLnvWLFikDQFM6it02JBmRDhgyRatWqySWXXCL58+c3QXCfPn3Ma2Wn/fv3y+233y7Zs2eXCRMmmG1ZxxCJ3Px7T6vnnnvObDs9evQwr/Hdd9/tyjieeOIJ6dixo5QqVSpVv3fs2DGzfWiioWjRopIrVy6pXbu2TJo0Sc6cORPWfTzyyCNSp04dyZcvn+TIkUMqV65sPgd0+0/++XPy5El55ZVXUjVGwGsyuz0AeMf//vc/ue222yQ2NlbuueceE7DoB/V3330njz76qPz222/y6quv2vLY+gW/dOlS8wXWq1cvWx5DvxT1cbJkySJuyJw5s/mi/eyzz0xQltSsWbNM0HPixImLum8NJIcOHWqygRpchuvLL7+USFKwYEETQCX10ksvyd9//y2jR48+57ahnDp1Sho2bCi///672ZHr3bu3CUJ0+33rrbekbdu2UqxYMduew48//ij//vuvPPPMM9KkSZPA+tdee03Onj0rkcLNv/fUCvXaffPNN1K/fn2zc+Xn8/kc/RvXndyvv/5alixZkurf3bx5s9k2GzduLP369TM7PPPmzZOHHnpIli1bJtOnTw9rW7v22mvlvvvuM58fq1evlueff96MafHixRIT81/eTq/Tv4VRo0aZx9SdVgDnIuiGI7Zs2SIdOnQwgal+mWnmxa9nz56yceNG8yVtl71795p/8+TJY9tj6BeNfvm4RYMbzSK+/fbb5wTdGgzefPPN8sEHHzgyFg3+NTOmh8UjiWaE77rrrqB177zzjhw4cOCc9SnRsiQNPnRH5s477wy6TndqNLC00549e0Juy27t7EXi33tqhXrt9HWuUqWKrX/jR48ePe9RiqlTp5qyDQ3+U0vLYvTIXtWqVQPr9KjD/fffb+538ODBUq5cufPeh+4gJXfZZZfJgAEDTNlL0nHpZ86IESNkwYIFcsMNN6R6vIAXUF4CR+iHsWYD33jjjaAvYD/98NdD836nT582mTz9gNdgUjOsgwYNOqdmUNffcsst5svhiiuuMF+Ieih7xowZgdvo4VD/oVnNsOkXp79+M6U6WP2d5Nmar776Sq655hoT7OTMmVMqVqxoxuSXUr2nBh2aLdIvV/3d1q1by7p160I+ngYjOia9ndaea4ZJA9hwaRD4xRdfmBrfpNkqLS9JHiCqf/75x3yBVq9e3TwnzYbddNNN8tNPPwVuo/W7l19+uflZx+Mvv/A/T60F1izmypUrTQZYg23/65K8VlizYfoeJX/+zZo1k7x589pempFeJRNKd3CS85dQXKhW+nz115px1+1Vy0caNWokv/76a9D96Wuo9D3R98FfCx3qPjV7O2bMGBN46dgKFy5sAi/dybgQzf63adPGbLeFChUypQbh1uym9u/9YrZLv3Hjxpnnp9udbkNaNqY7mX56VEDrsfW10c8SfS433nijrFq1KnCbpK+dv25ddxx0xyBpuVFKf+N61OPWW281ZRj6OusYPv3005BlTosWLTLZZh1HiRIlLriDpwFs0s8i/bzTz7hQGjRoECibK1CgQFDA7adHYlTyv8Fw+V+npJ8xqm7duub5f/LJJxd1v4AXkOmGI7TkQb8orrrqqrBurxOY9PCnfpH1799fli9fLgkJCeaL4qOPPgq6rQaqersuXbqYgGTKlCnmS1S/BPRLp127diaI1aBB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iILWqOvk0wuNHQCQdnQvAZBhderUSQoUKGA6luhESp3wqJMFH374Yfn777/Nbfr06SPPP/+8fPzxx/L777+bAPV8Pba1L3bnzp3l/vvvN7/jv893333XXK+dVbRriZbC7N2712SKNcOsGedHHnlEpk+fbgLfVatWybhx48xlpR1DNmzYII8++qiZhPnWW2+ZCZ7h2L59uyl7SbocOHDATHrUCZnz5s2TP/74QwYPHiw//vjjOb+vpSLa5WTt2rWmg8qQIUOkV69eEhMTE9bYAQBpR9ANIMPSOmXttFGyZEnTGUSzyRpcak23P/OtHULuvvtuE0j7SzDatm173vvVEpdbb73VBOiVKlWSrl27ytGjR811WoKh7fcef/xxKVy4sAlelZ5cR4Ne7QSi49AOKlqyoW34lI5RO59oIK811top5LnnngvreY4cOdLUVydd9L67d+9unvcdd9xh6sW100vSrLdf48aNTYCu2X69batWrYJq5S80dgBA2lk6mzId7gcAAABACsh0AwAAADYj6AYAAABsRtANAAAA2IygGwAAALAZQTcAAABgM4JuAAAAwGYE3QAAAIDNCLoBAAAAmxF0AwAAADYj6AYAAABsRtANAAAA2IygGwAAABB7/T+Atm76mHCnAwAAAABJRU5ErkJggg==",
      "text/plain": [
       "<Figure size 800x600 with 2 Axes>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "from sklearn.metrics import confusion_matrix\n",
    "\n",
    "# Generate confusion matrix\n",
    "cm = confusion_matrix(y_test, y_pred)\n",
    "\n",
    "# Create heatmap\n",
    "plt.figure(figsize=(8, 6))\n",
    "sns.heatmap(cm, annot=True, fmt='d', cmap='Blues',\n",
    "            xticklabels=label_names, yticklabels=label_names)\n",
    "plt.xlabel(\"Predicted Label\")\n",
    "plt.ylabel(\"True Label\")\n",
    "plt.title(\"Confusion Matrix – IT Subfield Classifier (v2.3)\")\n",
    "plt.tight_layout()\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "22439f31-47e4-45b2-8fde-2da0554ee7fb",
   "metadata": {},
   "source": [
    "## 8. Hyperparameter Tuning (XGBoost)\n",
    "\n",
    "We use `GridSearchCV` to optimize key hyperparameters:\n",
    "\n",
    "- `max_depth`: Maximum tree depth\n",
    "- `learning_rate`: Step size shrinkage\n",
    "- `n_estimators`: Number of boosting rounds\n",
    "\n",
    "The best parameters are selected based on 3-fold cross-validated macro F1-score."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "95c941e7-33b3-4863-ab0d-4b1adcda4275",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Fitting 3 folds for each of 18 candidates, totalling 54 fits\n",
      "✅ Best Parameters: {'learning_rate': 0.2, 'max_depth': 3, 'n_estimators': 200}\n",
      "✅ Best Macro F1 Score (CV average): 0.7755614159995838\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import GridSearchCV\n",
    "from xgboost import XGBClassifier\n",
    "\n",
    "# Define hyperparameter grid\n",
    "param_grid = {\n",
    "    'max_depth': [3, 5, 7],\n",
    "    'learning_rate': [0.05, 0.1, 0.2],\n",
    "    'n_estimators': [100, 200]\n",
    "}\n",
    "\n",
    "# Initialize base model (remove deprecated args)\n",
    "xgb_base = XGBClassifier(eval_metric='mlogloss', random_state=42)\n",
    "\n",
    "# Grid Search with 3-fold CV\n",
    "grid_search = GridSearchCV(\n",
    "    estimator=xgb_base,\n",
    "    param_grid=param_grid,\n",
    "    cv=3,\n",
    "    scoring='f1_macro',\n",
    "    verbose=1,\n",
    "    n_jobs=1  # Avoids BrokenProcessPool in Jupyter\n",
    ")\n",
    "\n",
    "# Fit to training data\n",
    "grid_search.fit(X_train, y_train)\n",
    "\n",
    "# Show best parameters and best macro F1\n",
    "print(\"✅ Best Parameters:\", grid_search.best_params_)\n",
    "print(\"✅ Best Macro F1 Score (CV average):\", grid_search.best_score_)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "16b3b14b-6c6c-48f0-bf6a-7b51a77e0138",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Classification Report (Tuned XGBoost):\n",
      "\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "         CLD       0.88      0.85      0.86        33\n",
      "      IOTNET       0.80      0.89      0.84        27\n",
      "         OPS       0.80      0.53      0.64        15\n",
      "         SEC       0.83      0.92      0.87        26\n",
      "\n",
      "    accuracy                           0.83       101\n",
      "   macro avg       0.83      0.80      0.80       101\n",
      "weighted avg       0.83      0.83      0.83       101\n",
      "\n",
      "Confusion Matrix:\n",
      "\n",
      "[[28  1  2  2]\n",
      " [ 1 24  0  2]\n",
      " [ 3  3  8  1]\n",
      " [ 0  2  0 24]]\n"
     ]
    }
   ],
   "source": [
    "# Use best estimator from grid search\n",
    "xgb_tuned = grid_search.best_estimator_\n",
    "y_pred_tuned = xgb_tuned.predict(X_test)\n",
    "\n",
    "# Classification report\n",
    "print(\"Classification Report (Tuned XGBoost):\\n\")\n",
    "print(classification_report(y_test, y_pred_tuned, target_names=label_names))\n",
    "\n",
    "# Confusion matrix\n",
    "print(\"Confusion Matrix:\\n\")\n",
    "print(confusion_matrix(y_test, y_pred_tuned))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "1c921216-8c8b-4654-b074-e63b843da660",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "✅ Saved tuned model as v2.4\n"
     ]
    }
   ],
   "source": [
    "joblib.dump(xgb_tuned, \"Artefacts/it_subfield_xgb_model_v2.4_tuned.pkl\")\n",
    "print(\"✅ Saved tuned model as v2.4\")"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8a4830ec-a8bd-4995-ab86-604aed2f0d4b",
   "metadata": {},
   "source": [
    "### Tuning Summary and Result Analysis\n",
    "\n",
    "We performed hyperparameter tuning using `GridSearchCV` to find the optimal configuration for the XGBoost classifier on SPECTER embeddings.  \n",
    "The goal was to improve performance on the IT subfield classification task, especially for lower-performing classes like OPS.\n",
    "\n",
    "---\n",
    "\n",
    "#### 🔧 Parameter Grid Used\n",
    "\n",
    "We searched across:\n",
    "- `max_depth`: [3, 5, 7] – controls tree depth (model complexity)\n",
    "- `learning_rate`: [0.05, 0.1, 0.2] – controls how much each tree contributes\n",
    "- `n_estimators`: [100, 200] – number of boosting rounds\n",
    "\n",
    "---\n",
    "\n",
    "#### ✅ Best Parameters Found\n",
    "\n",
    "{'learning_rate': 0.2, 'max_depth': 3, 'n_estimators': 200}\n",
    "\n",
    "---\n",
    "\n",
    "#### 📊 Final Evaluation on Test Set (v2.4 – Tuned XGBoost)\n",
    "- **Accuracy**: 0.83  \n",
    "- **Macro F1-score**: 0.80  \n",
    "- **Weighted F1-score**: 0.83  \n",
    "\n",
    "---\n",
    "\n",
    "#### 🔍 Class-wise F1 Breakdown:\n",
    "\n",
    "| Subfield | F1 Score | Notes |\n",
    "|----------|----------|-------|\n",
    "| **CLD**    | 0.86     | Strong, high precision and recall |\n",
    "| **IOTNET** | 0.84     | Consistent, slight confusion with CLD and SEC |\n",
    "| **OPS**    | 0.64     | Lowest recall; frequent confusion with CLD/IOTNET; fewest samples |\n",
    "| **SEC**    | 0.87     | Best performer; nearly all predictions correct |\n",
    "\n",
    "---\n",
    "\n",
    "⸻\n",
    "\n",
    "### 🧠 Interpretation\n",
    "\n",
    "- Performance remained stable after tuning, with minimal change from the default model (v2.3).\n",
    "- Shallow trees (`max_depth = 3`) combined with more boosting rounds (`n_estimators = 200`) helped regularize the model and likely prevented overfitting.\n",
    "- Subfields like **CLD**, **SEC**, and **IOTNET** perform very well, with clear boundaries in SPECTER embedding space.\n",
    "- **OPS** remains most challenging, with improvement in precision but still limited recall due to its low sample size and some conceptual overlap.\n",
    "- Most confusion occurs between **OPS**, **CLD**, and **IOTNET**, which aligns with operational/infrastructure thematic similarity in abstracts.\n",
    "\n",
    "⸻\n",
    "\n",
    "### 🧪 Next Steps \n",
    "\n",
    "- Gather **more data** for underrepresented classes (OPS) to improve recall  \n",
    "- Add **custom features** (e.g., operational keyword flags, title-only embeddings) to further separate OPS  \n",
    "- Explore **ensemble models** (e.g., voting between XGBoost and Logistic Regression) for further stability  \n",
    "- Fine-tune **transformer-based models** or experiment with domain-adaptive SPECTER/SciBERT embeddings for additional gains  \n",
    "\n",
    "---\n",
    "\n",
    "Overall, this tuned model (v2.4) serves as a robust and stable baseline for IT subfield classification using SPECTER + XGBoost.  \n",
    "Further improvements will likely require more data or richer features, rather than hyperparameter tuning alone."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b0ab3042-b7b3-4667-bbcf-35eaff7fb409",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.16"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
